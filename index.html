<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gerenciador de Tarefas!</title>

  <style>
    /* üé® Estilo geral */
    body {
      font-family: "Segoe UI", sans-serif;
      background: linear-gradient(135deg, #3d8d98, #162b81); /* Fundo suave degrad√™ */
      color: #333;
      margin: 0;
      padding: 0;
      text-align: center;
    }

    h1 {
      margin-top: 20px;
      color: #4a148c; /* Roxo mais intenso para destaque */
      text-shadow: 1px 1px 2px rgba(0,0,0,0.2); /* Leve sombra */
    }

    .container {
      width: 90%;
      max-width: 600px;
      background: #ffffffcc; /* Fundo branco com leve transpar√™ncia */
      margin: 30px auto;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15); /* Sombra mais real√ßada */
    }

    .clock {
      font-size: 1.2em;
      color: #6a1b9a; /* Roxo escuro para destaque do rel√≥gio */
      margin-bottom: 12px;
      font-weight: 600;
    }

    /* üîπ √Årea de entrada */
    .task-input-area {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 6px;
      margin-bottom: 15px;
    }

    input[type="text"], input[type="number"], select {
      padding: 7px 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 14px;
      outline: none;
      transition: 0.2s;
      background-color: #f1f1f1; /* Fundo leve para inputs */
      color: #333;
    }

    input[type="text"]:focus, input[type="number"]:focus, select:focus {
      border-color: #4a148c;
      box-shadow: 0 0 5px rgba(74,20,140,0.3);
      background-color: #fff;
    }

    /* ‚ûï Bot√£o de adicionar */
    #addBtn {
      background: #6c63ff;
      border: none;
      color: white;
      padding: 6px 10px;
      border-radius: 6px;
      font-size: 18px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s, transform 0.2s;
      font-weight: 600;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }

    #addBtn:hover {
      background: #5a54d6;
      transform: scale(1.05);
    }

    /* üîò Filtros */
    .filters {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin-bottom: 15px;
    }

    .filters button {
      flex: 1;
      padding: 7px 0;
      border: none;
      border-radius: 6px;
      color: #fff;
      cursor: pointer;
      transition: 0.2s, transform 0.2s;
      font-weight: 500;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }

    #filterAll { background: #42a5f5; }      /* Azul vivo */
    #filterPending { background: #ffb300; color: #000; } /* Amarelo destacado */
    #filterDone { background: #66bb6a; }     /* Verde suave */

    .filters button:hover {
      opacity: 0.85;
      transform: scale(1.05);
    }

    /* üìù Lista de tarefas */
    ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    li {
      background: #f9f9fb;
      margin: 6px 0;
      padding: 10px 14px;
      border-radius: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: 0.2s, transform 0.2s;
    }

    li:hover {
      transform: translateY(-2px);
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    }

    li.done {
      text-decoration: line-through;
      color: #999;
      background: #ececec;
    }

    .actions {
      display: flex;
      gap: 6px;
    }

    .actions button {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 17px;
      transition: 0.2s, transform 0.2s;
    }

    .actions button:hover {
      transform: scale(1.3);
    }

    .actions button:focus {
      outline: none;
    }
  </style>
</head>
<body>
  <h1>Bem Vindo!</h1>

  <div class="container">
    <h1>Gerenciador de Tarefas</h1>

    <div id="clock" class="clock"></div>

    <!-- Entrada de tarefa -->
    <div class="task-input-area">
      <input type="text" id="taskInput" placeholder="Digite a tarefa..." />

      <select id="categorySelect">
        <option value="Urgente">Urgente</option>
        <option value="Relevante">Relevante</option>
        <option value="Prioridade Alta">Prioridade Alta</option>
        <option value="Prioridade M√©dia">Prioridade M√©dia</option>
        <option value="Prioridade Baixa">Prioridade Baixa</option>
      </select>

      <input type="number" id="timeValue" min="1" placeholder="1" title="Tempo" style="width:60px;">
      <select id="timeUnit" title="Unidade de tempo">
        <option value="seconds">segundos</option>
        <option value="minutes">minutos</option>
        <option value="hours">horas</option>
        <option value="days">dias</option>
      </select>

      <button id="addBtn" title="Adicionar tarefa">‚ûï</button>
    </div>

    <!-- Filtros -->
    <div class="filters">
      <button id="filterAll">Todas</button>
      <button id="filterPending">Pendentes</button>
      <button id="filterDone">Conclu√≠das</button>
    </div>

    <ul id="taskList"></ul>
  </div>

  <script>
    // üïí Rel√≥gio com formato: "Ter√ßa, 04 de nov. de 2025 22:xx:xx"
    function updateClock() {
      const now = new Date();

      // Arrays com nomes dos dias e meses abreviados
      const days = ["Domingo","Segunda","Ter√ßa","Quarta","Quinta","Sexta","S√°bado"];
      const months = ["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."];

      const dayName = days[now.getDay()];                     // nome do dia
      const day = String(now.getDate()).padStart(2, '0');     // dia com 2 d√≠gitos
      const month = months[now.getMonth()];                  // m√™s abreviado
      const year = now.getFullYear();                        // ano completo
      const hours = String(now.getHours()).padStart(2, '0'); // hora
      const minutes = String(now.getMinutes()).padStart(2, '0'); // minuto
      const seconds = String(now.getSeconds()).padStart(2, '0'); // segundo

      // Atualiza o conte√∫do do rel√≥gio
      document.getElementById("clock").textContent = `${dayName}, ${day} de ${month} de ${year} ${hours}:${minutes}:${seconds}`;
    }

    setInterval(updateClock, 1000); // Atualiza a cada 1 segundo
    updateClock(); // Atualiza imediatamente ao carregar

    // üîπ Elementos principais
    const taskInput = document.getElementById("taskInput");
    const categorySelect = document.getElementById("categorySelect");
    const timeValue = document.getElementById("timeValue");
    const timeUnit = document.getElementById("timeUnit");
    const addBtn = document.getElementById("addBtn");
    const taskList = document.getElementById("taskList");

    let tasks = [];
    let currentFilter = "all";

    // üî∏ Adiciona nova tarefa
    addBtn.addEventListener("click", addTask);
    taskInput.addEventListener("keypress", e => { if (e.key === "Enter") addTask(); });

    function addTask() {
      const text = taskInput.value.trim();
      if (text === "") return alert("Digite uma tarefa!");

      const category = categorySelect.value;
      const durationMs = convertToMs(timeValue.value || 0, timeUnit.value);

      const task = {
        text,
        category,
        done: false,
        timeout: durationMs
      };

      tasks.push(task);
      renderTasks();
      taskInput.value = "";

      if (durationMs > 0) {
        setTimeout(() => {
          if (!task.done) showNotification(`‚ö†Ô∏è O prazo da tarefa "${task.text}" expirou. Conclua ou revise!`);
        }, durationMs);
      }
    }

    // üî∏ Converte tempo para ms
    function convertToMs(value, unit) {
      const num = parseInt(value);
      switch (unit) {
        case "seconds": return num * 1000;
        case "minutes": return num * 60 * 1000;
        case "hours":   return num * 60 * 60 * 1000;
        case "days":    return num * 24 * 60 * 60 * 1000;
        default: return 0;
      }
    }

    // üî∏ Renderiza tarefas
    function renderTasks() {
      taskList.innerHTML = "";
      const filtered = tasks.filter(t =>
        currentFilter === "done" ? t.done :
        currentFilter === "pending" ? !t.done : true
      );

      filtered.forEach((task, i) => {
        const li = document.createElement("li");
        li.className = task.done ? "done" : "";

        const span = document.createElement("span");
        span.textContent = `${task.text} (${task.category})`;

        const actions = document.createElement("div");
        actions.className = "actions";

        const doneBtn = document.createElement("button");
        doneBtn.innerHTML = "‚úÖ";
        doneBtn.title = "Concluir";
        doneBtn.onclick = () => toggleDone(i);

        const editBtn = document.createElement("button");
        editBtn.innerHTML = "‚úèÔ∏è";
        editBtn.title = "Editar";
        editBtn.onclick = () => editTask(i);

        const delBtn = document.createElement("button");
        delBtn.innerHTML = "üóëÔ∏è";
        delBtn.title = "Excluir";
        delBtn.onclick = () => deleteTask(i);

        actions.append(doneBtn, editBtn, delBtn);
        li.append(span, actions);
        taskList.appendChild(li);
      });
    }

    // üî∏ Concluir, editar, excluir
    function toggleDone(i) { tasks[i].done = !tasks[i].done; renderTasks(); }
    function editTask(i) {
      const newText = prompt("Editar tarefa:", tasks[i].text);
      if (newText && newText.trim() !== "") tasks[i].text = newText.trim();
      renderTasks();
    }
    function deleteTask(i) {
      if (confirm("Deseja excluir esta tarefa?")) tasks.splice(i, 1);
      renderTasks();
    }

    // üî∏ Notifica√ß√£o
    function showNotification(msg) {
      if (Notification.permission === "granted") new Notification(msg);
      else if (Notification.permission !== "denied")
        Notification.requestPermission().then(p => { if (p === "granted") new Notification(msg); });
      else alert(msg);
    }

    // üî∏ Filtros
    document.getElementById("filterAll").onclick = () => { currentFilter = "all"; renderTasks(); };
    document.getElementById("filterPending").onclick = () => { currentFilter = "pending"; renderTasks(); };
    document.getElementById("filterDone").onclick = () => { currentFilter = "done"; renderTasks(); };
  </script>
</body>
</html>
